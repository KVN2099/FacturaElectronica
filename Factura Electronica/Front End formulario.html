<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Formulario</title>

    <!--CSS-->

    <style type="text/css">
        select, option {
            max-width: 150px;
        }

        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
        }

        body {
            background: #0F0F0F;
        }

        input {
            border: solid 1px #000;
            
            width: 130px;
        }

        .main{
            display: flex;
            flex-wrap:wrap;
            flex-direction: row;
            justify-content:space-around;
        }

        .titulo {
            width: 100%;
            color: #fff;
            background: rgb(255, 135, 0, .9);
            border: solid 2px #fff
        }

        div {
            color: #fff;
            border: solid 2px #FF8700;
            margin: 20px;
            padding: 20px;
            text-align: center;
        }

        .principal {
            margin: 20px;
            padding:20px;
            background: rgb(0,0,0,.5);
            width: 230px;
            line-height:40px;
        }

        hr {
            margin-top: 30px;
            background: #FF8700;
        }
        </style>
</head>
<body>
    <section class="main">   
          
            <div class="titulo"><h2>Factura Digital</h2></div> 
            <div class="principal">
                <h4>Clave</h4>
                <input type="text" id="clave" />
            </div>

            <hr><hr>

            <div class="principal">
                <h4>Numero Consecutivo</h4>
                <input type="text" id="numeroconsecutivo" />
            </div>
        
            <div class="principal">
                <h4>Fecha de emision</h4>
                <input type="text" id="fechadeemision" />
             </div>

             <hr><hr>

             <div class="principal">
                 <h4>Condicion de Venta</h4>
                 <input type="text" id="condiciondeventa" />
             </div>
        
             <div class="principal">
                 <h4>Plazo de Credito</h4>
                 <input type="text" id="plazodecredito" />
             </div>
       
             <div class="principal">
                  <h4>Medio de Pago</h4>
                  <input type="text" id="medioddepago" />
             </div>

             <div class="titulo"><h2>Emisor</h2></div>
             <div class="principal">
                  <h4>Datos personales</h4>
                  <p>Nombre</p>
                  <input type="text" id="nombre" />
                  <p>Nombre Comercial</p>
                  <input type="text" id="numerocomercial" />
                  <p>Correo Electronico</p>
                  <input type="text" id="correoelectronico" />  
              </div>

              <hr>

              <div class="principal">
                  <h4>Ubicacion</h4>
                  <p>Canton</p>
                  <input type="text" id="canton" /><!--Canton-->
                  <p>Distrito</p>
                  <input type="text" id="distrito" /><!--Distrito-->
                  <p>Barrio</p>
                  <input type="text" id="barrio" /><!--Barrio-->
                  <p>Otras Senas</p>
                  <input type="text" id="otrasenas" /><!--Otras_Senas-->
                  <p>Provincia</p>
                  <input type="text" id="provincia" /><!--provincia-->
              </div>

              <hr>

              <div class="principal">
                  <h4>Telefono</h4>
                  <p>Codigo Pais</p>
                  <input type="text" id="codigopais" />
                  <p>Numero de Telefono</p>
                  <input type="text" id="numerodetelefono" />
                  <hr>
                  <h4>Fax</h4>
                  <p>Codigo Pais</p>
                  <input type="text" id="codigopais" />
                  <p>Numero de Telefono</p>
                  <input type="text" id="numerodetelefono" />
              </div>
        
              <div class="titulo"><h2>Receptor</h2></div>
              <div class="principal">
                  <h4>Datos personales</h4>
                  <p>Nombre</p>
                  <input type="text" id="nombrere" />
                  <p>Nombre Comercial</p>
                  <input type="text" id="nombrecomercialre" />
                  <p>Correo Electronico</p>
                  <input type="text" id="correoelectronicore" />
                  <p>Identificacion Extranjera</p>
                  <input type="text" id="identificacionextranjera" />
              </div>

              <hr>

              <div class="principal">
                  <h4>Ubicacion</h4>
                  <p>Canton</p>
                  <input type="text" id="canton" /><!--Canton-->
                  <p>Distrito</p>
                  <input type="text" id="distrito" /><!--Distrito-->
                  <p>Barrio</p>
                  <input type="text" id="barrio" /><!--Barrio-->
                  <p>Otras Senas</p>
                  <input type="text" id="otrasenas" /><!--Otras_Senas-->
                  <p>Provincia</p>
                  <input type="text" id="provincia" /><!--provincia-->
              </div>

              <hr>

              <div class="principal">
                  <h4>Telefono</h4>
                  <p>Codigo Pais</p>
                  <input type="text" id="codigopais" />
                  <p>Numero de Telefono</p>
                  <input type="text" id="numerodetelefono" />

                  <hr>

                  <h4>Fax</h4>
                  <p>Codigo Pais</p>
                  <input type="text" id="codigopais" />
                  <p>Numero de Telefono</p>
                  <input type="text" id="numerodetelefono" />
              </div>
   
            
              <div class="titulo"><h2>Detalle de Servicio</h2></div>
              <div class="principal">
                  <h4>Linea de Detalle</h4>
                  <p>Numero de linea</p>
                  <input type="text" id="numerodelinea" />
                  <p>Cantidad</p>
                  <input type="text" id="cantidad" />
                  <p>Unidad de medida</p>
                  <select class="aweform" id="unidaddemedida" name="subject">
                      <option value="Sp">Servicios Profesionales (Sp)</option>
                      <option value="m">Metro (m)</option>
                      <option value="kg">Kilogramo (kg)</option>
                      <option value="s">Segundo (s)</option>
                      <option value="A">Ampere (A)</option>
                      <option value="K">Kelvin (K)</option>
                      <option value="mol">Mol (mol)</option>
                      <option value="cd">Candela (cd)</option>
                      <option value="mcuadrado">Metro cuadrado (m²)</option>
                      <option value="mcubico">Metro cúbico (m³)</option>
                      <option value="mxs">Metro por segundo (m/s)</option>
                      <option value="mxscuadrado">Metro por segundo cuadrado (m/s²)</option>
                      <option value="unoxm">1 por metro (1/m)</option>
                      <option value="kgxmcubico">Kilogramo por metro cúbico (kg/m³)</option>
                      <option value="Axmcuadrado">Ampere por metro cuadrado (A/m²)</option>
                      <option value="Axm">Ampere por metro (A/m)</option>
                      <option value="molxmcubico">Mol por metro cúbico (mol/m³)</option>
                      <option value="cdxmcuadrado">Candela por metro cuadrado (cd/m²)</option>
                      <option value="indRefra">uno (indice de refracción)</option>
                      <option value="rad">Radián (rad)</option>
                      <option value="strad">Estereoraddián (sr)</option>
                      <option value="Hz">Hertz (Hz)</option>
                      <option value="N">Newton (N)</option>
                      <option value="Pascal">Pascal (Pa)</option>
                      <option value="J">Joule (J)</option>
                      <option value="W">Watt (W)</option>
                      <option value="C">Coulomb (C)</option>
                      <option value="V">Volt (V)</option>
                      <option value="F">Farad (F)</option>
                      <option value="Ohm">Ohm (?)</option>
                      <option value="S">Siemens (S)</option>
                      <option value="Wb">Weber (Wb)</option>
                      <option value="T">Tesla (T)</option>
                      <option value="H">Henry (H)</option>
                      <option value="GrCel">Graco Celsius (°C)</option>
                      <option value="lm">Lumen (lm)</option>
                      <option value="lx">Lux (lx)</option>
                      <option value="Bq">Becquerel (Bq)</option>
                      <option value="Gy">Grey (Gy)</option>
                      <option value="kat">Katal (kat)</option>
                      <option value="Paxs">Pascal por segundo (Pa·s)</option>
                      <option value="Nxm">Newton metro (N·m)</option>
                      <option value="Nxxm">Newton por metro (N/m)</option>
                      <option value="radxs">Radián por segundo (rad/s)</option>
                      <option value="radxscuadrado">Radián por segundo cuadrado (rad/s²)</option>
                      <option value="Wxmcuadrado">Watt por metro cuadrado (W/m²)</option>
                      <option value="JxK">Joule por Kelvin (J/K)</option>
                      <option value="JxkgK">Joule por kilogramo kelvin (J/(kg·K))</option>
                      <option value="Jxkg">Joule por kilogramo (J/kg)</option>
                      <option value="Wxmxk">Watt por metro kelvin (W/(m·K))</option>
                      <option value="Jxmcubi">Joule por metro cúbico (J/m³)</option>
                      <option value="Vxm">Volt por metro (V/m)</option>
                      <option value="Cxmcubi">Coulomb por metro cúbico (C/m³)</option>
                      <option value="Cxmcubi">Coulomb por metro cuadrado (C/m²)</option>
                      <option value="Fxm">Farad por metro (F/m)</option>
                      <option value="Hxm">Henry por metro (H/m)</option>
                      <option value="Jxmol">Joule por mol (J/mol)</option>
                      <option value="JxmolK">Joule por mol kelvin (J/(mol·k))</option>
                      <option value="Cxkg">Coulomb por kilogramo (C/kg)</option>
                      <option value="Gyxs">Gray por segundo (Gy/s)</option>
                      <option value="Wxsr">Watt por esterorradián (W/sr)</option>
                      <option value="Wxmcusr">Watt por metro cuadrado estereorradián (W/(m²·sr))</option>
                      <option value="katxmcub">Katal por metro cúbico (kat/m³)</option>
                      <option value="min">Minuto (min)</option>
                      <option value="h">Hora (h)</option>
                      <option value="d">Día (d)</option>
                      <option value="grado">Grado (º)</option>
                      <option value="min1">Minuto (´)</option>
                      <option value="s2">Segundo (´´)</option>
                      <option value="L">Litro (L)</option>
                      <option value="t">Tonelada (t)</option>
                      <option value="Np">Neper (Np)</option>
                      <option value="b">Bel (B)</option>
                      <option value="eV">Electronvolt (eV)</option>
                      <option value="u">Unidad de masa atómica unificada (u)</option>
                      <option value="ua">Unidad astronómica (ua)</option>
                      <option value="Unidad">Unidad (Unid)</option>
                      <option value="Galon">Galón (Gal)</option>
                      <option value="Gramo">Gramo (g)</option>
                      <option value="Kilometro">Kilometro (km)</option>
                      <option value="Pulgada">Pulgada (ln)</option>
                      <option value="Centimetro">Centimetro (cm)</option>
                      <option value="Mililitro">Mililitro (mL)</option>
                      <option value="Milimetro">Milimetro (mm)</option>
                      <option value="Onzas">Onzas (Oz)</option>
                      <option value="Otros">Otros</option>
                  </select>
                  <p>Unidad Medida Comercial</p>
                  <input type="text" id="unidadmedidacomercial" />
                  <p>Detalle</p>
                  <input type="text" id="detalle" />
                  <p>Precio Unitario</p>
                  <input type="text" id="preciounitario" />
                  <p>Monto Total</p>
                  <input type="text" id="montototal" disabled/>
                  <p>Monto Descuento</p>
                  <input type="text" id="montodescuento" />
                  <p>Naturaleza Descuento</p>
                  <input type="text" id="naturalezadescuento" />
                  <p>Subtotal</p>
                  <input type="text" id="subtotal" disabled />
                  <p>Monto Total Linea</p>
                  <input type="text" id="subtotal" />
              </div>

              <hr>

              <div class="principal">
                  <h4>Codigo</h4>
                  <p>Tipo</p>
                  <input type="text" id="tipo" />
                  <p>Codigo</p>
                  <input type="text" id="codigo" />          
              </div>

              <hr>

              <div class="principal">
                  <h4>Impuesto</h4>
                  <p>Codigo</p>
                  <select id="codigoim">
                      <option value="Impuesto_General_Sobre_Ventas">Impuesto General sobre las ventas</option>
                      <option value="Impuesto_Selectivo_Consumo">Impuesto Selectivo de Consumo</option>
                      <option value="Impuesto_Unico_Combustivos">Impuesto unico a los combustivos</option>
                      <option value="Impuesto_Especifico_Bebidas_Alcoholicas">Impuesto especifico de bebidas alcohólicas</option>
                      <option value="Impuesto_Especifico_Bebidas_Sin_Alcohol">Impuesto especifico sobre las bebidas envasadas sin contenido alcoholico y jabones de tocador</option>
                      <option value="Impuesto_Productos_Tabaco">Impuesto a los productos de tabaco</option>
                      <option value="Servicios">Servicios</option>
                      <option value="Impuesto_General_Ventas_Diplomaticas">Impuesto General a las Ventas Diplomaticos</option>
                      <option value="Impuesto_General_Ventas_Compras">Impuesto General sobre Ventas compras autorizadas</option>
                      <option value="Impuesto_General_Ventas_Institucionales">Impuesto General sobre las ventas instituciones publicas y otros organismos</option>
                      <option value="Impuesto_Selectivo_Consumo">Impuesto Selectivo de consumo compras autorizadas</option>
                      <option value="Impuesto_Especifico_Cemento">Impuesto Especifico al Cemento</option>
                      <option value="Otros">Otros</option>
                      <option value="Otros">Otros</option>
                  </select>
                  <p>Tarifa</p>
                  <input type="text" id="tarifa" />
                  <p>Monto</p>
                  <input type="text" id="montoim" disabled/>

                  <hr>

                  <h4>Exoneracion</h4>
                  <p>Tipo de Documento</p>
                  <select id="tipodedocumento">
                      <option value="Compras_Autorizadas">Compras Autorizadas</option>
                      <option value="Ventas_Exentas_diplomaticos">Ventas Exentas a diplomaticos</option>
                      <option value="Orden_Compra">Orden de compra (instituciones publicas y otros organismos)</option>
                      <option value="Exenciones_Direccion_General">Exenciones Direccion General de Hacienda</option>
                      <option value="Zonas_Francas">Zonas Francas</option>
                      <option value="Otros">Otros</option>
                  </select>
                  <p>Numero de Documento</p>
                  <input type="text" id="numerodedocumento" />
                  <p>Nombre de Institucion</p>
                  <input type="text" id="nombredeinstitucion" />
                  <p>Fecha de Emision</p>
                  <input type="text" id="fechadeemision" />
                  <p>Monto de Impuesto</p>
                  <input type="text" id="montodeimpuesto" />
                  <p>Porcentaje de Compra</p>
                  <input type="text" id="porcentajedecompra" />
              </div>

              <div class="titulo"><h2>Resumen de Factura</h2></div>
              <div class="principal">
                  <p>Codigo de Moneda</p>
                  <input type="text" id="codigodemoneda" />
                  <p>Tipo de Cambio</p>
                  <input type="text" id="tipodecambio" />
                  <p>Total Servicios Gravados</p>
                  <input type="text" id="totalserviciosgravados" />
                  <p>Total Servicios Exentos</p>
                  <input type="text" id="totalmercanciasgravadas" />
              </div>

              <hr>

              <div class="principal">
                  <p>Total Mercancias Gravadas</p>
                  <input type="text" id="totalmercanciasgravadas" />
                  <p>Total Mercancias Exentas</p>
                  <input type="text" id="totalmercanciasgravadas" />
                  <p>Total Gravado</p>
                  <input type="text" id="totalgravado" />
                  <p>Total Exento</p>
                  <input type="text" id="totalexento" />
                  <p>Total de Venta</p>
                  <input type="text" id="totaldeventa" />
              </div>

              <hr>

              <div class="principal">
                  <p>Total de Descuento</p>
                  <input type="text" id="totaldedescuento" />
                  <p>Total Venta Neta</p>
                  <input type="text" id="totalventaneta" />
                  <p>Total Impuesto</p>
                  <input type="text" id="totalimpuesto" />
                  <p>Total Comprobante</p>
                  <input type="text" id="totalcomprobante" />
              </div>

              <div class="titulo"><h2>Otros</h2></div>
              <div class="principal">
                  <h4>Informacion de Referencia</h4>
                  <p>Tipo Doc</p>
                  <input type="text" id="tipodoc" />
                  <p>Numero</p>
                  <input type="text" id="numero" />
                  <p>Fecha de la Emision</p>
                  <input type="text" id="fechadelaemision" />
                  <p>Codigo</p>
                  <input type="text" id="codigoin" />
                  <p>Razon</p>
                  <input type="text" id="razon" />
              </div>

              <hr>

              <div class="principal">
                  <h4>Normativa</h4>
                  <p>Numero de Resolucion</p>
                  <input type="text" id="numeroderesolucion" />
                  <p>Fecha de Resolucion</p>
                  <input type="text" id="fechaderesolucion" />
               </div>

              <hr>

              <div class="principal">
                  <h4>Otro Texto</h4>
                  <p>Codigo</p>
                  <input type="text" id="codigotex" />

                  <hr>

                  <h4>Otro Contenido</h4>
                  <p>Codigo</p>
                  <input type="text" id="codigocon" />
              </div>
    </section>

    <!--JavaScript-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script>
        class _usuario {
            constructor(NombreUsuario, Claveusuario)
            {
                this.NombreUsuario = NombreUsuario;
                this.Claveusuario = Claveusuario;
            }
            Login()
            {
                $.ajax({
                    url: 'api/Usuario',
                    type: 'POST',
                    dataType: 'json',
                    data: this,
                    success: function (data, textStatus, xhr) {
                        //console.log(data);
                        //alert(data);
                        //localStorage.setItem("Usuarioensistema", data);
                        //location.href = "Facturar.html";
                        document.getElementById("token").innerHTML= data;
                        this.token = data;
                        return data;
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log(data);
                        alert(data);
                    }
                });
            }
        }
        function Ingresar()
        {
            let usuariologueado= new _usuario(
                document.getElementById("id").value, document.getElementById("clave").value
            );
            usuariologueado.Login();
        }

        //Variables////////////////////////////////////////////////////////////////////

        var precio = 0, cantidad = 0;
        var acumulado = 0;
        var descuento = 0;
        var tarifa = 0;
        var acumulado2 = 0;
        var exoneracion = 0;
        var acumulado3 = 0;


        //Subtotal/////////////////////////////////////////////////////////////////////

        $("#preciounitario").keyup(function () {

            precio = document.getElementById("preciounitario").value;
            cantidad = document.getElementById("cantidad").value;
            document.getElementById("montototal").value = cantidad * precio;
        });

        $("#cantidad").keyup(function () {

            precio = document.getElementById("preciounitario").value;
            cantidad = document.getElementById("cantidad").value;
            acumulado=document.getElementById("montototal").value = cantidad * precio;
        });

        //Descuento/////////////////////////////////////////////////////////////////////

        $("#montodescuento").keyup(function () {
            precio = document.getElementById("preciounitario").value;
            cantidad = document.getElementById("cantidad").value;
            acumulado = document.getElementById("subtotal").value = cantidad * precio;
            descuento = document.getElementById("montodescuento").value;
            acumulado2= document.getElementById("subtotal").value = acumulado - descuento;
        });

        //Tarifa////////////////////////////////////////////////////////////////////////
        $("#tarifa").keyup(function () {
            precio = document.getElementById("preciounitario").value;
            cantidad = document.getElementById("cantidad").value;
            acumulado = document.getElementById("subtotal").value = cantidad * precio;
            descuento = document.getElementById("montodescuento").value;
            acumulado2 = document.getElementById("subtotal").value = acumulado - descuento;
            tarifa = document.getElementById("tarifa").value;
            acumulado3 = document.getElementById("montoim").value = (1 + (tarifa / 100)) * acumulado2;
        });





    </script>
</body>
</html>
